generator client {
    provider        = "prisma-client-js"
    previewFeatures = []
    output          = "./generated/mongo_client"
}

datasource db {
    provider = "mongodb"
    url      = env("MONGODB_URL")
}

model User {
    id       String   @id @default(auto()) @map("_id") @db.ObjectId
    name     String
    email    String   @unique
    password String
    createAt DateTime @default(now())
    updateAt DateTime @updatedAt
    movies   Movies[]
}

model Movies {
    id       String   @id @default(auto()) @map("_id") @db.ObjectId
    name     String
    image    String
    createAt DateTime @default(now())
    updateAt DateTime @updatedAt
    userId   String   @db.ObjectId
    user     User     @relation(fields: [userId], references: [id], onDelete: Cascade)
    genre    Genre[]
}

model Genre {
    id       String  @id @default(auto()) @map("_id") @db.ObjectId
    name     String
    Movies   Movies? @relation(fields: [moviesId], references: [id])
    moviesId String? @db.ObjectId
}